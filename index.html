<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>HAPPYEND Soundtrack</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Josefin+Slab:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">

<style>
  :root{ --accent:#FF5100; }

  *{ box-sizing:border-box; }
  html,body{ height:100%; }
  body{
    margin:0; min-height:100vh; overflow:hidden;
    background: url('bg1.jpeg') center/cover no-repeat fixed;
    display:flex; align-items:center; justify-content:center;
    position:relative;
    font-family: system-ui,-apple-system,"Malgun Gothic","Apple SD Gothic Neo",sans-serif;
  }

  .title{
    position:absolute; left:50%; top:10vh; transform:translateX(-50%);
    margin:0; text-align:center; line-height:1;
    font-family:"Josefin Slab",serif;
    font-style:italic; font-weight:300; color:var(--accent);
    font-size:clamp(32px,9vw,110px);
    letter-spacing:.02em;
  }

  .tray{
    position:absolute; left:50%; bottom:6vh; transform:translateX(-50%);
    display:flex; gap:min(6vw,48px); align-items:center; justify-content:center;
    padding:0 4vw; width:100%;
  }

  .track{
    display:flex; flex-direction:column; align-items:center; gap:0px;
  }

  .btnImg{
    width:min(38vw,360px); aspect-ratio:1/1; object-fit:cover; border-radius:7px;
    border:1px solid rgba(255,81,0,.85);
    transition:transform .15s, filter .15s, box-shadow .15s;
    filter: invert(0%);
    cursor:pointer;
  }
  .btnImg:hover{ transform:translateY(-2px); }
  .btnImg.playing{ box-shadow:0 0 0 5px var(--accent); filter: invert(100%); }

:root{ --label-nudge: -150px; }

  .label{
    padding: 9px 30px;  border-radius:0px; background:var(--accent); color:#fff;
    font:400 16px/1.05 "Josefin Slab",serif;
    white-space:nowrap; user-select:none;
    text-align:center; margin:0; 
    margin-left: var(--label-nudge);
  }

  @media (max-width:780px){
    .tray{ gap:20px; bottom:4vh; }
    .btnImg{ width:min(42vw,280px); }
  }
</style>
</head>
<body>

  <h1 class="title">HAPPYEND&nbsp;Soundtrack</h1>

  <audio id="bgSnd"   src="closing.mp3" preload="metadata"></audio>
  <audio id="loveSnd" src="love.mp3"    preload="metadata"></audio>

  <div class="tray" aria-label="Soundtrack list">
    <div class="track">
      <img id="bgBut" class="btnImg" src="music.jpeg" alt="Play Closing Theme">
      <div class="label">1. Closing Theme</div>
    </div>
    <div class="track">
      <img id="loveBut" class="btnImg" src="music.jpeg" alt="Play Love Theme">
      <div class="label">2. Love Theme</div>
      
    </div>
  </div>

 
  <script>
	const bgBut   = document.getElementById('bgBut');
	const loveBut = document.getElementById('loveBut');
	const bgSnd   = document.getElementById('bgSnd');
	const loveSnd = document.getElementById('loveSnd');

    let bgPlayState   = false;
    let lovePlayState = false;

    function stopLove(){
      loveSnd.pause(); loveSnd.currentTime = 0;
      loveBut.classList.remove('playing');
      lovePlayState = false;
    }
    function stopBg(){
      bgSnd.pause(); bgSnd.currentTime = 0;
      bgBut.classList.remove('playing');
      bgPlayState = false;
    }

    bgBut.onclick = function(){
      if(!bgPlayState){
        stopLove();
        bgSnd.play();
        bgBut.classList.add('playing');
        bgPlayState = true;
      }else{
        bgSnd.pause();
        bgBut.classList.remove('playing');
        bgPlayState = false;
      }
    }

    loveBut.onclick = function(){
      if(!lovePlayState){
        stopBg();
        loveSnd.play();
        loveBut.classList.add('playing');
        lovePlayState = true;
      }else{
        loveSnd.pause();
        loveBut.classList.remove('playing');
        lovePlayState = false;
      }
    }

    
    bgSnd.onended = function(){ bgBut.classList.remove('playing'); bgPlayState=false; }
    loveSnd.onended = function(){ loveBut.classList.remove('playing'); lovePlayState=false; }
  </script>
</body>
</html>
